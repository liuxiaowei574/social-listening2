webpackJsonp([13],{"4PCb":function(e,r){},P5Zs:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var o={data:function(){return{form:{name:"",start:"",end:"",source:["1","2","3","4"],keyWords:"",desc:""},rules:{name:[{required:!0,message:"请输入项目名称",trigger:"blur"},{min:1,max:10,message:"长度在 1 到 10 个字符",trigger:"blur"}],start:[{required:!0,message:"请选择开始日期"}],end:[{required:!0,message:"请选择结束日期"}],source:[{type:"array",required:!0,message:"请至少选择一个信息源",trigger:"change"}],keyWords:[{required:!0,message:"请填写关键词,用逗号分隔",trigger:"blur"}],desc:[{required:!0,message:"请填写项目说明",trigger:"blur"}]}}},methods:{submitForm:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;r.$store.dispatch("addProject",{project_name:r.form.name,project_brand:r.form.brand,project_product:r.form.goods,project_info:r.form.desc,project_key_words:r.form.keyWords,project_source:r.form.source.sort(function(e,r){return e<r}).join("+"),start_time:r.form.start,end_time:r.form.end}).then(function(){alert("添加成功"),r.$store.dispatch("updateMenu")},function(e){console.log(e),alert("添加失败")})})},resetForm:function(e){this.$refs[e].resetFields()},getDescFromBaidu:function(){var e=this;e.$store.dispatch("getDescFromBaidu",{project_brand:e.form.brand,project_product:e.form.goods}).then(function(r){e.form.desc=r.data},function(e){console.log(error)})}}},s={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("div",{staticClass:"project-show"},[t("el-form",{ref:"form",staticClass:"project-search",attrs:{model:e.form,rules:e.rules,"label-width":"100px"}},[t("el-form-item",{attrs:{label:"名称",prop:"name"}},[t("el-input",{model:{value:e.form.name,callback:function(r){e.$set(e.form,"name",r)},expression:"form.name"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"项目描述",prop:"desc"}},[t("el-input",{attrs:{type:"textarea",rows:5},model:{value:e.form.desc,callback:function(r){e.$set(e.form,"desc",r)},expression:"form.desc"}})],1),e._v(" "),t("el-form-item",{attrs:{label:"时间",required:""}},[t("el-form-item",{staticStyle:{display:"inline-block"},attrs:{prop:"start"}},[t("el-date-picker",{attrs:{type:"date",editable:!1,"value-format":"timestamp",placeholder:"开始日期"},model:{value:e.form.start,callback:function(r){e.$set(e.form,"start",r)},expression:"form.start"}})],1),e._v(" "),t("div",{staticClass:"el-input",staticStyle:{width:"auto"}},[e._v("至")]),e._v(" "),t("el-form-item",{staticStyle:{display:"inline-block"},attrs:{prop:"end"}},[t("el-date-picker",{attrs:{type:"date",editable:!1,"value-format":"timestamp",placeholder:"结束日期"},model:{value:e.form.end,callback:function(r){e.$set(e.form,"end",r)},expression:"form.end"}})],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"信息源",prop:"source"}},[t("el-checkbox-group",{model:{value:e.form.source,callback:function(r){e.$set(e.form,"source",r)},expression:"form.source"}},[t("el-checkbox",{attrs:{label:"1",name:"source"}},[e._v("微博")]),e._v(" "),t("el-checkbox",{attrs:{label:"2",name:"source"}},[e._v("京东达人")]),e._v(" "),t("el-checkbox",{attrs:{label:"3",name:"source"}},[e._v("京东商城")]),e._v(" "),t("el-checkbox",{attrs:{label:"4",name:"source"}},[e._v("天猫")])],1)],1),e._v(" "),t("el-form-item",{attrs:{label:"关键词",prop:"keyWords"}},[t("el-input",{model:{value:e.form.keyWords,callback:function(r){e.$set(e.form,"keyWords",r)},expression:"form.keyWords"}})],1),e._v(" "),t("el-form-item",[t("el-button",{attrs:{type:"primary"},on:{click:function(r){e.submitForm("form")}}},[e._v("立即创建")]),e._v(" "),t("el-button",{on:{click:function(r){e.resetForm("form")}}},[e._v("重置")])],1)],1)],1)},staticRenderFns:[]};var a=t("Z0/y")(o,s,!1,function(e){t("4PCb")},null,null);r.default=a.exports}});